<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>Casino Lobby</title>
    <link rel="stylesheet" href="casinostyles.css">
    <link rel="stylesheet" href="rankingstyles.css"><!-- ランキング用CSS追加 -->
    <link rel="stylesheet" href="safe.css">
</head>
<body>
    <!-- バナー -->
    <header class="banner">
        <div class="logo" style="cursor:pointer;" onclick="window.location.href='casino.html'">
            <img src="logo.png" alt="Casino Logo">
        </div>
        <div class="balance-area">
            <span class="balance">残高: <span id="balance-value">-</span> 円</span>
            <button id="safe-icon" title="金庫を開く">
                <svg width="56" height="56" viewBox="0 0 24 24" fill="#ffe082">
                    <circle cx="12" cy="12" r="10" stroke="#223355" stroke-width="2" fill="#ffe082"/>
                    <rect x="8" y="10" width="8" height="6" rx="2" fill="#223355"/>
                    <circle cx="12" cy="13" r="1.5" fill="#ffe082"/>
                </svg>
            </button>
        </div>
        <div class="user-info">ようこそ</div>
    </header>

    <!-- ランキング＋送金フォームを横並びに配置 -->
    <div style="display: flex; justify-content: center; gap: 32px; flex-wrap: wrap;">
        <!-- ランキング欄 -->
        <div class="ranking-container" style="flex: 1 1 320px; min-width: 260px;">
            <h2>残高ランキング</h2>
            <table class="ranking-table" id="ranking-table">
                <thead>
                    <tr>
                        <th>順位</th>
                        <th>ユーザー名</th>
                        <th>残高</th>
                    </tr>
                </thead>
                <tbody>
                    <tr><td colspan="3">読み込み中...</td></tr>
                </tbody>
            </table>
        </div>
        <!-- 送金フォーム -->
        <div class="transfer-container" style="flex: 0 1 180px; min-width: 140px; background: #1c2940; border-radius: 16px; box-shadow: 0 4px 24px rgba(0,0,0,0.18); padding: 12px 8px; text-align: center;">
            <h3 style="font-size:18px;margin-bottom:8px;">送金</h3>
            <form id="transfer-form">
                <input type="text" id="transfer-to" placeholder="宛先" required style="margin-bottom:4px;width:95%;font-size:13px;">
                <input type="number" id="transfer-amount" placeholder="金額" min="1" required style="margin-bottom:4px;width:95%;font-size:13px;">
                <input type="password" id="transfer-password" placeholder="PW" required style="margin-bottom:4px;width:95%;font-size:13px;">
                <button type="submit" style="width:95%;font-size:13px;">送金</button>
            </form>
            <div id="transfer-result" style="margin-top:4px;min-height:18px;font-size:13px;"></div>
        </div>
    </div>

    <!-- ゲーム選択画面 -->
    <div class="game-container">
        <h1>ゲームを選択</h1>
        <div class="games">
            <div class="game-card" onclick="window.location.href='highlow.html'" style="cursor:pointer;">
                <p>ハイロー</p>
            </div>
            <div class="game-card" onclick="window.location.href='baccarat.html'" style="cursor:pointer;">
                <p>バカラ</p>
            </div>
            <div class="game-card" onclick="window.location.href='mines.html'" style="cursor:pointer;">
                <p>マインズ</p>
            </div>
            <div class="game-card" onclick="window.location.href='dragontiger.html'" style="cursor:pointer;">
                <p>ドラゴンタイガー</p>
            </div>
            <div class="game-card" onclick="window.location.href='blackjack.html'" style="cursor:pointer;">
                <p>ブラックジャック</p>
            </div>
        </div>
    </div>

    <!-- 管理者メニュー -->
    <div id="admin-menu" style="display:none; margin: 24px auto; max-width: 480px;">
        <details>
            <summary style="cursor:pointer; font-weight:bold; font-size:18px;">管理者メニュー</summary>
            <div style="margin-top:12px;">
                <button onclick="window.location.href='admin.html'" style="margin-bottom:8px;">管理画面へ</button>
                <!-- ここに他の管理者用機能ボタンやフォームを追加可能 -->
                <div>
                    <p style="font-size:14px; color:#ffe082;">ここからユーザー管理や残高設定などができます。</p>
                </div>
            </div>
        </details>
    </div>

    <!-- 金庫モーダル -->
    <div id="safe-modal">
      <div class="modal-inner">
        <button id="close-safe-modal">×</button>
        <h3>金庫</h3>
        <div style="font-size:1.2em;margin-bottom:14px;">金庫残高: <span id="safe-balance">-</span> 円</div>
        <div class="safe-tabs">
          <button id="tab-in" class="safe-tab active">預け入れ</button>
          <button id="tab-out" class="safe-tab">引き出し</button>
        </div>
        <div class="safe-forms-row">
          <form id="safe-in-form" class="safe-form active">
            <div class="safe-prompt safe-in-prompt">金庫に預け入れる金額とパスワードを入力してください。</div>
            <input type="number" id="safe-in-amount" min="1" placeholder="預け入れ金額">
            <input type="password" id="safe-in-password" placeholder="パスワード">
            <button type="submit">預け入れ</button>
          </form>
          <form id="safe-out-form" class="safe-form">
            <div class="safe-prompt safe-out-prompt">金庫から引き出す金額とパスワードを入力してください。</div>
            <input type="number" id="safe-out-amount" min="1" placeholder="引き出し金額">
            <input type="password" id="safe-out-password" placeholder="パスワード">
            <button type="submit">引き出し</button>
          </form>
        </div>
        <div id="safe-result" style="margin-top:18px;min-height:28px;font-size:1.2em;"></div>
      </div>
    </div>

    <script src="config.js"></script>
    <script src="casinoscript.js"></script>
    <script src="safe.js"></script>
</body>
</html>